export type WechatServerResponse = {
    access_token: string 
    expires_in: number 
    refresh_token: string
    openid: string 
    scope: string
    unionid: string
}

export type WeChatURLParams = {
    appId?: string
    secret?: string
    code?: string
    scope?: string
    state?: string
    response_type?: string
    redirect_url?: string
    grant_type?: string
    access_token?: string
    refresh_token?: string
    openid?: string
    lang?: string
}

export type WeChatUserInfo = {
    openid: string
    nickname: string
    sex: number
    province: string
    city: string
    headimgurl: string
    priviledge: string[]
    unionid: string
    errcode: string
    errmsg: string
}

export type WeChatAuthorizationSessionData = {
    state?: string
    accessToken?: string
    refreshToken?: string
    openId?: string
}

export class WechatPaymentResponse {
    return_code: string; // The return code, either 'SUCCESS' or 'FAIL'
    return_msg: string; // A description of the return code
    appid: string; // The app ID
    mch_id: string; // The merchant ID
    nonce_str: string; // A random string
    sign: string; // The sign of the response
    result_code: string; // The result code, either 'SUCCESS' or 'FAIL'
    prepay_id: string; // The prepay ID of the transaction (only for 'SUCCESS' result_code)
    trade_state: string; // The trade state (e.g., 'SUCCESS', 'NOTPAY', 'USERPAYING', 'PAYERROR', etc.)
    out_trade_no: string; // The out trade number (i.e., the transaction ID generated by your system)
    transaction_id: string; // The WeChat transaction ID
    total_fee: number; // The total transaction fee (in cents)
    time_start: string; // The transaction start time (in the format 'yyyyMMddHHmmss')
    time_end: string; // The transaction end time (in the format 'yyyyMMddHHmmss')
  
    constructor(data: any) {
      this.return_code = data.return_code;
      this.return_msg = data.return_msg;
      this.appid = data.appid;
      this.mch_id = data.mch_id;
      this.nonce_str = data.nonce_str;
      this.sign = data.sign;
      this.result_code = data.result_code;
      this.prepay_id = data.prepay_id;
      this.trade_state = data.trade_state;
      this.out_trade_no = data.out_trade_no;
      this.transaction_id = data.transaction_id;
      this.total_fee = data.total_fee;
      this.time_start = data.time_start;
      this.time_end = data.time_end;
    }
  }
  